# Prompt UI

> 本地化的提示词编辑与管理工具。支持标签联想与权重解析、预设图库、搜索筛选、所见即所得的已选标签联动，同步存储在浏览器本地。

## 特性概览
- 标签库管理：创建/重命名分组，添加/编辑/删除标签，固定/收藏标签，分组快速添加按钮。
- 已选择标签区：紧凑可视化标签样式、便捷操作（移除/加权/置顶），与编辑区实时联动同步。
- 提示词编辑与解析：输入/粘贴即解析，支持英文逗号分隔与权重语法（`(tag:1.2)`、`tag:1.2`）。
- 联想与自动补全：在提示词输入框输入片段时弹出建议，下按 `Enter/Tab` 或鼠标点击快捷添加。
- 预设管理与图库：创建预设卡片，支持描述、评分、收藏、分类标签，图片上传与预览。
- 搜索与筛选：全局搜索标签与预设，移动端位置与桌面端样式已优化；支持分类与 R18 标签页切换。
- 数据持久化：全部数据存储于浏览器 LocalStorage，支持导入/导出备份，导入后自动清理失效的已选标签。
- 细节打磨：通知提示、模态对话框、紧凑按钮与标签 UI、星级评分、拖拽/点击交互优化。

## 快速开始
- 打开 `index.html` 即可本地使用（无需后端）。
- 建议通过本地服务器访问以便资源加载：`python -m http.server 8082` 然后浏览器访问 `http://localhost:8082/index.html`。
- 首次使用会自动初始化示例数据，所有修改会实时保存至浏览器本地存储。

## 基本用法
- 标签库
  - 新建分组与标签，支持重命名、颜色与图标风格，常用标签可收藏或固定。
  - 删除或重命名分组/标签后，系统会同步清理编辑区与“已选择标签”中的失效项。
- 已选择标签区
  - 显示当前已选标签，支持一键移除、权重调整、置顶操作；样式紧凑，适配桌面与移动端。
  - 与提示词编辑区双向联动：编辑区清空时，“已选择标签”也随之清空；解析到新标签时自动加入。
- 提示词编辑与解析
  - 支持英文逗号分隔：`tag1, tag2, tag3`；支持权重语法：`(tag:1.2)` 或 `tag:1.2`。
  - 粘贴任意提示词文本后自动解析未知标签，可选择是否加入标签库并标注“新标签”。
- 联想与自动补全
  - 在提示词输入框键入片段时，自动弹出建议列表；按 `Enter/Tab` 或点击即可快速添加。
  - 完全匹配的标签会自动识别为已存在标签并合并权重信息。

## 预设管理与图库
- 预设卡片包含：名称、描述、分类标签、提示词内容、评分星星、收藏按钮。
- 支持图片上传与预览，便于作为“图库/相册”管理与提示词效果记录。
- 预设内容可一键复制；评分与收藏用于常用项的快速筛选与展示。

## 搜索与筛选
- 全局搜索同时覆盖标签与预设卡片，支持模糊匹配与结果高亮。
- R18 标签页独立样式与显隐切换，保障不同场景的内容管理需求。
- 移动端优化搜索入口位置与展示布局，提升小屏使用体验。

## 数据导入/导出与备份
- 导出：将当前标签库、预设与配置一键导出为 JSON 备份。
- 导入：导入备份后自动渲染，并同步清理“已选择标签”中不再存在的项。
- 存储说明：所有数据保存在浏览器 LocalStorage，建议定期导出备份以防浏览器清理数据。

## 快捷键与交互建议
- `Enter/Tab`：在联想建议中快速选中并添加标签。
- `Backspace`：在编辑区末尾可逐步移除最近添加的标签。
- 鼠标悬停：标签区显示紧凑操作按钮（置顶/收藏/编辑/删除/分组添加）。

## 常见问题（FAQ）
- 数据消失？浏览器清理本地存储会导致数据被清空，请提前导出备份。

## 更新日志（Changelog）
- 3.4.6
  - 清空编辑区内容时，已选择标签同步清空；保持双向联动与解析一致性。
- 3.4.5
  - 优化已选择标签逻辑与 UI；与编辑区联动；按钮更紧凑。
- 3.4.2
  - 优化已选择标签同步逻辑与渲染性能。
- 3.4.1
  - 增加编辑标签候选与自动补全。
- 3.3.4
  - 调整手机端搜索框位置与 UI。
- 3.3.3
  - 调整搜索逻辑与结果展示。
- 3.3.2
  - 优化搜索功能与入口位置。
- 3.3.1
  - 新增全局搜索：标签与卡片。
- 3.2.2
  - 优化卡片 UI，调整预览图位置与按钮大小。
- 3.2.1
  - 预设管理区域自适应预览列数（2–4 列）。
- 3.2.0
  - 标签显示更紧凑；新增 Prompt 管理区域，支持图片预览与上传。
- 3.1.9
  - 导航栏滑动修复，项目命名统一为 Prompt UI。
- 3.1.8
  - 优化导航菜单名称显示与左右滑动体验。
- 3.1.7
  - 优化“已选择标签”区域的大小与位置。
- 3.1.6
  - 粘贴解析支持联动“已选择标签”区域。
- 3.1.5
  - 解析优化：识别英文逗号分隔。
- 3.1.4
  - 分组名称支持重命名。
- 3.1.3
  - 修复若干渲染与交互细节问题。
- 3.1.2
  - 优化二级菜单 UI。
- 3.1.1
  - Bug 修复与稳定性提升。
- 3.1.0
  - Tag 区域增加二级菜单导航。
- 3.0.0
  - 新增“解析粘贴”功能，快速提取并加入标签库。
- 2.0.0
  - 新增 Prompt 管理区域，支持自设预设与收藏。
- 1.0.0
  - 新增“已选择标签”区域，支持快捷编辑。
- 0.0.0
  - 初始版本，提供基础标签编辑功能。

---
如需帮助或提交反馈，欢迎创建 Issue 或直接在 `index.html` 中通过预设反馈入口留言。
